## ğŸ§­ **Guidelines de Engenharia (Engineering Guidelines)**

Este guia define os padrÃµes e boas prÃ¡ticas a serem seguidos pela equipe de engenharia para garantir consistÃªncia, escalabilidade e qualidade no projeto.

---

### 1. ğŸ—ï¸ Estrutura de Projeto Django

```bash
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ user/             # AutenticaÃ§Ã£o, perfis, papÃ©is
â”‚   â”œâ”€â”€ course/           # Cursos, seÃ§Ãµes, liÃ§Ãµes, progresso
â”‚   â”œâ”€â”€ payment/          # IntegraÃ§Ã£o com Stripe
â”‚   â”œâ”€â”€ core/             # ConfiguraÃ§Ãµes globais, menus, landing
â”‚   â””â”€â”€ shared/           # Helpers reutilizÃ¡veis (utils, mixins)
â”œâ”€â”€ config/               # ConfiguraÃ§Ã£o geral do projeto Django
â”œâ”€â”€ docker/               # Dockerfiles e configs
â”œâ”€â”€ .env, .dockerignore   # Configs do ambiente
```

---

## 2. PadrÃ£o de CÃ³digo

- **Estilo:** [PEP8](https://peps.python.org/pep-0008/)
- **Linter:** `flake8`
- **Formatter:** `black`
- **Import Sorter:** `isort` (opcional)

### 2.1. Testes

- Framework: `pytest` + `pytest-django`
- Estrutura de testes espelhando os apps
- Testes obrigatÃ³rios para modelos, views, permissÃµes e integraÃ§Ãµes crÃ­ticas

---

## 3. ConvenÃ§Ãµes de Projeto

### 3.1. Models

- Usar `AbstractBaseModel` com campos padrÃ£o: `created_at`, `updated_at`
- Sempre usar `UUID` como `id` quando aplicÃ¡vel
- Criar modelos separados por domÃ­nio (ex: `Course`, `Lesson`, `Space`, `Event`, etc.)

### 3.2. Serializers

- Nomear como `<ModelName>Serializer`, `<ModelName>DetailSerializer`, etc.
- Validar regras de negÃ³cio no `validate_<field>`

### 3.3. Views e Routers

- Usar `ViewSet` sempre que possÃ­vel
- Manter urls organizadas por namespace (`/api/courses/`, `/api/events/`, etc.)
- PermissÃµes declaradas explicitamente

---

## 4. Boas PrÃ¡ticas

- Toda nova funcionalidade deve ter:
  - Migration
  - Testes
  - Serializers
  - PermissÃµes claras
  - DocumentaÃ§Ã£o da rota via DRF schema

- Evitar lÃ³gica de negÃ³cio nas views â€“ usar services/helpers

---

## 5. Versionamento e Branches

- `main`: versÃ£o estÃ¡vel
- `develop`: versÃ£o em desenvolvimento
- Feature branches: `feature/<nome-da-feature>`
- Hotfixes: `hotfix/<descricao>`

---

## 6. Commits e Pull Requests

- Convention: [Conventional Commits](https://www.conventionalcommits.org)
  
Exemplos:

feat(auth): implement login with Knox
fix(payment): resolve stripe webhook signature issue
refactor(user): improve model readability


- Pull Requests devem incluir:
  - DescriÃ§Ã£o do que foi feito
  - Link para issue (se aplicÃ¡vel)
  - Print de testes rodando (ou coverage)

---

## 7. SeguranÃ§a

- Nunca subir `.env` ou chaves no repo
- Todos os dados sensÃ­veis via variÃ¡veis de ambiente
- Verificar permissÃµes antes de retornar dados sensÃ­veis

---

## 8. Ferramentas de Apoio

- Debug: `ipdb`
- Testes: `pytest`, `coverage`
- Lint: `flake8`
- Formatter: `black`
- CI/CD (futuro): GitHub Actions

---

## 9. RepositÃ³rio

- README com instruÃ§Ãµes de setup local
- Scripts `make` para facilitar comandos (`make run`, `make test`, `make migrate`)
- DocumentaÃ§Ã£o da API com `/api/schema/` e `/api/docs/`

---

## 10. PadrÃ£o de Logs

- Usar `logger = logging.getLogger(__name__)` nos arquivos
- NÃ­vel padrÃ£o: `INFO`, usar `ERROR` em exceÃ§Ãµes
- Logar erros de Stripe, autenticaÃ§Ã£o, e webhooks crÃ­ticos
